<!DOCTYPE html><html><head><meta charset="utf-8"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="yes" name="apple-touch-fullscreen"><meta content="telephone=no,email=no" name="format-detection"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"><link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><script src="https://use.fontawesome.com/adaf0e149c.js"></script><link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.6.0/styles/monokai_sublime.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="/css/markdown-github.css"><title>林水溶的博客</title><script src="/js/googleAnalytics.js"></script></head><body><div id="postContainer"><div id="postTop"><h4 id="logo">Life Is Short</h4><br><br><h2 id="postTitle">[Express]前端ajax发送请求时,无法从后端重定向的解决方法</h2><br><span aria-hidden="true" class="postTime fa fa-calendar">2017-3-24</span><span aria-hidden="true" class="postTags fa fa-tags">&nbsp;ExpressJS</span><span aria-hidden="true" class="postTags fa fa-tags">&nbsp;重定向</span><span aria-hidden="true" class="postTags fa fa-tags">&nbsp;ajax</span><br><br></div><section id="articleDiv"><p><strong>记录一个遇到的<code>ExpressJS</code>的坑 :</strong></p><br><p><em>网上说这个的挺少的,记录下来希望能方便到后面的人</em></p><br><p>当前端用<code>ajax</code>发送<code>get``post</code>请求时,后端接口无法直接重定向页面. 也就是说<code>res.location()</code>,<code>res.redirect()</code>没有效果. <code>res.render()</code> 也同样没有效果.</p><br><p>Google了半天,也看了文档,没明白是什么原因. 尴尬…</p><br><p>倒是找到了<strong>解决方法: </strong></p><br><p>那就在<strong>前端重定向:</strong> </p><br><pre><code class="javascript">window.location.href = &#39;URL…&#39;<br></code></pre><br><p>还有注意别忘了在后端路由代码中,结束res : <code>res.end()</code>(<code>res.send()等方法也有关闭res的作用</code>)</p>
</section></div><script src="/js/jquery.min.js"></script><script src="/js/highlight.min.js"></script><script src="/js/start.js"></script></body></html>